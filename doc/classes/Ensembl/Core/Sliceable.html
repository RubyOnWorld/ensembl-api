<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: Ensembl::Core::Sliceable</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">Ensembl::Core::Sliceable</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../../files/lib/ensembl/core/transform_rb.html">
                lib/ensembl/core/transform.rb
                </a>
        <br />
                <a href="../../../files/lib/ensembl/core/activerecord_rb.html">
                lib/ensembl/core/activerecord.rb
                </a>
        <br />
            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <h1>DESCRIPTION</h1>
<p>
The <a href="Sliceable.html">Sliceable</a> mixin holds the get_slice method
and can be included in any class that lends itself to having a position on
a <a href="SeqRegion.html">SeqRegion</a>.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000007">length</a>&nbsp;&nbsp;
      <a href="#M000008">project</a>&nbsp;&nbsp;
      <a href="#M000003">seq</a>&nbsp;&nbsp;
      <a href="#M000002">slice</a>&nbsp;&nbsp;
      <a href="#M000004">start</a>&nbsp;&nbsp;
      <a href="#M000005">stop</a>&nbsp;&nbsp;
      <a href="#M000006">strand</a>&nbsp;&nbsp;
      <a href="#M000001">transform</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000007" class="method-detail">
        <a name="M000007"></a>

        <div class="method-heading">
          <a href="Sliceable.src/M000007.html" target="Code" class="method-signature"
            onclick="popupCode('Sliceable.src/M000007.html');return false;">
          <span class="method-name">length</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <h1>DESCRIPTION</h1>
<p>
The <a href="Sliceable.html#M000007">Sliceable#length</a> method returns
the <a href="Sliceable.html#M000007">length</a> of the feature (based on
seq_region_start and seq_region_end.
</p>
<hr size="1"></hr><table>
<tr><td valign="top"><b>Arguments</b>:</td><td>none

</td></tr>
<tr><td valign="top"><b>Returns</b>:</td><td>sequence

</td></tr>
</table>
        </div>
      </div>

      <div id="method-M000008" class="method-detail">
        <a name="M000008"></a>

        <div class="method-heading">
          <a href="Sliceable.src/M000008.html" target="Code" class="method-signature"
            onclick="popupCode('Sliceable.src/M000008.html');return false;">
          <span class="method-name">project</span><span class="method-args">(coord_system_name)</span>
          </a>
        </div>
      
        <div class="method-description">
          <h1>DESCRIPTION</h1>
<p>
The <a href="Sliceable.html#M000008">Sliceable#project</a> method is used
to transfer coordinates from one coordinate system to another. Suppose you
have a feature on a contig in human (let&#8216;s say on contig
AC000031.6.1.38703) and you want to know the coordinates on the chromosome.
This is a projection of coordinates from a higher ranked coordinate system
to a lower ranked coordinate system. Projections can also be done from a
chromosome to the contig level. However, it might be possible that more
than one contig has to be included and that there exist gaps between the
contigs. The output of this method therefore is an <em>array</em> of <a
href="Slice.html">Slice</a> and <a href="Gap.html">Gap</a> objects.
</p>
<p>
At the moment, projections can only be done if the two coordinate systems
are linked directly in the &#8216;assembly&#8217; table.
</p>
<h1>USAGE</h1>
<pre>
 # Get a contig slice in cow and project to scaffold level
 # (i.e. going from a high rank coord system to a lower rank coord
 # system)
 original_feature = Gene.find(85743)
 target_slices = original_feature.project('scaffold')
</pre>
<hr size="1"></hr><p>
<b>Arguments</b>:
</p>
<ul>
<li>coord_system_name:: name of coordinate system to <a
href="Sliceable.html#M000008">project</a> coordinates to

</li>
</ul>
<table>
<tr><td valign="top"><b>Returns</b>:</td><td>an array consisting of Slices and, if necessary, Gaps

</td></tr>
</table>
        </div>
      </div>

      <div id="method-M000003" class="method-detail">
        <a name="M000003"></a>

        <div class="method-heading">
          <a href="Sliceable.src/M000003.html" target="Code" class="method-signature"
            onclick="popupCode('Sliceable.src/M000003.html');return false;">
          <span class="method-name">seq</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <h1>DESCRIPTION</h1>
<p>
The <a href="Sliceable.html#M000003">Sliceable#seq</a> method takes the
coordinates on a reference, transforms onto the seqlevel coordinate system
if necessary, and retrieves the sequence.
</p>
<hr size="1"></hr><table>
<tr><td valign="top"><b>Arguments</b>:</td><td>none

</td></tr>
<tr><td valign="top"><b>Returns</b>:</td><td>sequence

</td></tr>
</table>
        </div>
      </div>

      <div id="method-M000002" class="method-detail">
        <a name="M000002"></a>

        <div class="method-heading">
          <a href="Sliceable.src/M000002.html" target="Code" class="method-signature"
            onclick="popupCode('Sliceable.src/M000002.html');return false;">
          <span class="method-name">slice</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <h1>DESCRIPTION</h1>
<p>
The <a href="Sliceable.html#M000002">Sliceable#slice</a> method takes the
coordinates on a reference and creates a <a
href="Slice.html">Ensembl::Core::Slice</a> object.
</p>
<hr size="1"></hr><table>
<tr><td valign="top"><b>Arguments</b>:</td><td>none

</td></tr>
<tr><td valign="top"><b>Returns</b>:</td><td><a href="Slice.html">Ensembl::Core::Slice</a> object

</td></tr>
</table>
        </div>
      </div>

      <div id="method-M000004" class="method-detail">
        <a name="M000004"></a>

        <div class="method-heading">
          <a href="Sliceable.src/M000004.html" target="Code" class="method-signature"
            onclick="popupCode('Sliceable.src/M000004.html');return false;">
          <span class="method-name">start</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <h1>DESCRIPTION</h1>
<p>
The <a href="Sliceable.html#M000004">Sliceable#start</a> method is a
convenience method and returns self.seq_region_start.
</p>
<hr size="1"></hr><table>
<tr><td valign="top"><b>Arguments</b>:</td><td>none

</td></tr>
<tr><td valign="top"><b>Returns</b>:</td><td>sequence

</td></tr>
</table>
        </div>
      </div>

      <div id="method-M000005" class="method-detail">
        <a name="M000005"></a>

        <div class="method-heading">
          <a href="Sliceable.src/M000005.html" target="Code" class="method-signature"
            onclick="popupCode('Sliceable.src/M000005.html');return false;">
          <span class="method-name">stop</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <h1>DESCRIPTION</h1>
<p>
The <a href="Sliceable.html#M000005">Sliceable#stop</a> method is a
convenience method and returns self.seq_region_end.
</p>
<hr size="1"></hr><table>
<tr><td valign="top"><b>Arguments</b>:</td><td>none

</td></tr>
<tr><td valign="top"><b>Returns</b>:</td><td>sequence

</td></tr>
</table>
        </div>
      </div>

      <div id="method-M000006" class="method-detail">
        <a name="M000006"></a>

        <div class="method-heading">
          <a href="Sliceable.src/M000006.html" target="Code" class="method-signature"
            onclick="popupCode('Sliceable.src/M000006.html');return false;">
          <span class="method-name">strand</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <h1>DESCRIPTION</h1>
<p>
The <a href="Sliceable.html#M000006">Sliceable#strand</a> method is a
convenience method and returns self.seq_region_strand.
</p>
<hr size="1"></hr><table>
<tr><td valign="top"><b>Arguments</b>:</td><td>none

</td></tr>
<tr><td valign="top"><b>Returns</b>:</td><td>sequence

</td></tr>
</table>
        </div>
      </div>

      <div id="method-M000001" class="method-detail">
        <a name="M000001"></a>

        <div class="method-heading">
          <a href="Sliceable.src/M000001.html" target="Code" class="method-signature"
            onclick="popupCode('Sliceable.src/M000001.html');return false;">
          <span class="method-name">transform</span><span class="method-args">(coord_system_name)</span>
          </a>
        </div>
      
        <div class="method-description">
          <h1>DESCRIPTION</h1>
<p>
The <a href="Sliceable.html#M000001">transform</a> method is used to
transfer coordinates for a feature from one coordinate system to another.
It basically creates a clone of the original feature and changes the
seq_region, <a href="Sliceable.html#M000004">start</a> position, <a
href="Sliceable.html#M000005">stop</a> position and <a
href="Sliceable.html#M000006">strand</a>.
</p>
<p>
Suppose you have a feature on a contig in human (let&#8216;s say on contig
AC000031.6.1.38703) and you want to know the coordinates on the chromosome.
This is a transformation of coordinates from a higher ranked coordinate
system to a lower ranked coordinate system. Transformations can also be
done from a chromosome to the contig level.
</p>
<p>
In contrast to the <a href="Sliceable.html#M000008">project</a> method of
Sliceables, the coordinates of a feature can only transformed to the target
coordinate system if there is no ambiguity to which <a
href="SeqRegion.html">SeqRegion</a>.
</p>
<p>
For example, gene A can be transferred from the chromosome system to the
clone coordinate system, whereas gene B can not.
</p>
<pre>
      gene A                     gene B
 |---&lt;=====&gt;--------------------&lt;=====&gt;----------------| chromosome

  |-----------|     |-------|  |---------|               clones
             |-----------| |-------|    |--------|

  gene_a.transform('clone') --&gt; gene
  gene_b.transform('clone') --&gt; nil
</pre>
<p>
At the moment, transformations can only be done if the two coordinate
systems are linked directly in the &#8216;assembly&#8217; table.
</p>
<h1>USAGE</h1>
<pre>
 # Get a gene in cow and transform to scaffold level
 # (i.e. going from a high rank coord system to a lower rank coord
 # system)
 # Cow scaffold Chr4.10 lies on Chr4 from 8030345 to 10087277 on the
 # reverse strand
 source_gene = Gene.find(2408)
 target_gene = source_gene.transform('scaffold')
 puts source_gene.seq_region.name   #--&gt; 4
 puts source_gene.seq_region_start  #--&gt; 8104409
 puts source_gene.seq_region_end    #--&gt; 8496477
 puts source_gene.seq_region_strand #--&gt; -1
 puts target_gene.seq_region.name   #--&gt; Chr4.003.10
 puts target_gene.seq_region_start  #--&gt; 1590800
 puts target_gene.seq_region_end    #--&gt; 1982868
 puts target_gene.seq_region_strand #--&gt; 1
</pre>
<hr size="1"></hr><p>
<b>Arguments</b>:
</p>
<ul>
<li>coord_system_name:: name of coordinate system to <a
href="Sliceable.html#M000001">transform</a> to coordinates to

</li>
</ul>
<table>
<tr><td valign="top"><b>Returns</b>:</td><td>nil or an object of the same class as self

</td></tr>
</table>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>